"use strict";(self["webpackChunkcustomers_crud"]=self["webpackChunkcustomers_crud"]||[]).push([[535],{7685:function(t,s,a){a.r(s),a.d(s,{default:function(){return h}});var r=function(){var t=this,s=t._self._c;return s("div",{staticClass:"home"},[s("LoginForm")],1)},e=[],o=function(){var t=this,s=t._self._c;return s("div",{staticClass:"login"},[s("b-container",[t.isUser?s("b-row",[s("b-col",{staticClass:"login__error",attrs:{col:"12"}},[t._v("Invalid Credentials")])],1):t._e(),s("b-row",{attrs:{"align-h":"around"}},[s("b-col",{attrs:{md:"12",lg:"4"}},[s("b-form",{staticClass:"login__form",on:{submit:function(s){return s.preventDefault(),t.onSubmit.apply(null,arguments)}}},[s("b-form-group",{attrs:{id:"input-group-1",label:"Email","label-for":"input-1"}},[s("b-form-input",{attrs:{id:"input-1",type:"email",placeholder:"Enter user email",required:""},model:{value:t.email,callback:function(s){t.email=s},expression:"email"}})],1),s("b-form-group",{staticClass:"mt-3",attrs:{id:"input-group-2",label:"password","label-for":"input-2"}},[s("b-form-input",{attrs:{id:"input-2",type:"password",placeholder:"Enter password",required:""},model:{value:t.password,callback:function(s){t.password=s},expression:"password"}})],1),s("b-button",{staticClass:"mt-3 w-100",attrs:{disabled:!t.email&&!t.password,type:"submit",variant:"primary"}},[t._v("Login")])],1)],1)],1)],1)],1)},i=[],n=a(9669),l=a.n(n),u={name:"LoginForm",data(){return{email:"",password:"",isUser:!1}},methods:{async onSubmit(){const t=await l().post("/api/login",{email:this.email,password:this.password}).catch((t=>{this.isUser=!0}));200===t.status&&(this.isUser=!1,localStorage.setItem("token",t.data.token),localStorage.setItem("isLogin","true"),this.$store.dispatch("userToken",t.data.token),this.$router.push("/"))}}},p=u,c=a(1001),m=(0,c.Z)(p,o,i,!1,null,"3e2eb2f7",null),d=m.exports,b={name:"LoginPage",components:{LoginForm:d}},f=b,g=(0,c.Z)(f,r,e,!1,null,null,null),h=g.exports}}]);
//# sourceMappingURL=login.0d469840.js.map